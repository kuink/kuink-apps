<?xml version='1.0'?>
<Method>
    <Doc>Get the capabilities of a list of roles</Doc>
    <Params>
        <Param name="role_codes"/>
    </Params>
    <Body>
        <Sql>
            <![CDATA[        
                SELECT
                    c.*
                FROM
                    fw_capability c
                INNER JOIN
                    fw_role_capability rc on (rc.id_capability=c.id)
                INNER JOIN
                    fw_role r on (rc.id_role=r.id)
                WHERE
                    r.code in ({@param->role_codes})
                GROUP BY c.id
        ]]>
        </Sql>
    </Body>
</Method>
